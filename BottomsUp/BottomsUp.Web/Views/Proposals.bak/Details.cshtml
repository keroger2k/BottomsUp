@model BottomsUp.Core.Models.DTOs.ProposalDTO

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="container prop-info-container">
    <h2>@Model.Name - Details <span>(Id: @Model.Id)</span></h2>
    <div class="proposal-information">
        <div class="row task-header">
            <div class="col-xs-12">
                <button class="btn btn-default" id="add-new-task" disabled="disabled">
                    Add New Task
                </button>
            </div>
        </div>
        <div class="row">
            <ul id="requirement-task-list"></ul>

        </div>
        
    </div>
</div>


<div class="container prop">
    <h2>PWS Requirements</h2>
    <ul class="pws-tasks">
        @foreach (var req in Model.Requirements)
        {
            <li data-id="@req.Id" class="pws-task-item">
                <div class="row">
                    <div class="col-xs-1">
                        <div class="pws-number">@req.PWSNumber</div>
                    </div>
                    <div class="col-xs-10">
                        <div class="pws-description">
                            @req.Description
                        </div>
                    </div>
                    <div class="col-xs-1">
                        <div class="pws-total-monthly-hours">
                            <span>@string.Format("{0:N2}", req.TotalHours)</span> hrs
                        </div>
                    </div>
                </div>
            </li>
        }
    </ul>
</div>


<script id="mustache-template" type="text/template">
    {{#rows}}
    <li>
        <form>
            <div class="row">
                <input type="hidden" name="Task.RequirementId" value="{{RequirementId}}" />
                <input type="hidden" name="Task.Id" value="{{Id}}"/>
                <div class="col-xs-1">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    <button type="submit" class="btn">
                        <span class="glyphicon glyphicon-floppy-save"></span>
                    </button>
                </div>
                <div class="col-xs-4 form-group">
                    <label for="description">Description</label>
                    @*<input type="text" class="form-control" name="Task.Description" value="{{Description}}" required />*@
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
                            Dropdown
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Action</a></li>
                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
                            <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-xs-2 form-group">
                    <label for="number">Number</label>
                    <input type="number" class="form-control" name="Task.Number" value="{{Number}}" required />
                </div>
                <div class="col-xs-2 form-group">
                    <label for="volume">Volume</label>
                    <input type="text" class="form-control" name="Task.Volume" value="{{Volume}}" required />
                </div>
                <div class="col-xs-2 form-group">
                    <label for="Task.Percentage">Percentage</label>
                    <div class="input-group">
                        <input type="text" class="form-control" name="Task.Percentage" value="{{Percentage}}" required />
                        <div class="input-group-addon">%</div>
                    </div>
                </div>
            </div>
            <div class="row second-row">
                <div class="col-xs-5 col-xs-offset-1 form-group">
                    <label for="Task.Comments">Comments</label>
                    <textarea cols="20" class="form-control" name="Task.Comments" rows="3">{{Comments}}</textarea>
                </div>
            </div>
        </form>
    </li>
    {{/rows}}
</script>